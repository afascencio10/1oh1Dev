<div class="site-section block-13 border-bottom" id="section-explorers">

  <div class="container" style="margin-top: 25px">
    <div class="text-left pb-1 mb-4">
      <h2 class="text-secondary">Listed Categories</h2>
      <!-- <div id="notifications">
      RealTime Notification ActionCable
      </div> -->
      <button class="btn btn-success text-white float-right" data-toggle="modal" data-target="#myModal" style="margin:10px">Add Category</button>
    </div>

    <div>
      <%= page_entries_info @categories %>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
            <th scope="col">Image</th>
            <th scope="col">Upload/Edit</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          <% @categories.each do|category|%>
            <tr>
              <th scope="row"><%= category.id %></th>
              <td><%= category.name %></td>
              <td><%= category.description %></td>
              <td><img src="<%= category.url %>" alt="Image" style="height:50px"></td>
              <!-- <td> <%= link_to category.id, category_path(category.name.downcase) %></td> -->
              <td><button class="btn btn-info text-white category_modal" data-toggle="modal" data-target="#editModal" data-val="<%=category.id%>,<%=category.name%>,<%=category.description%>,<%=category.url%>">Edit</button></td>
              <td><%= button_to("Delete", category_path(category), method: :delete, :class => "btn btn-danger text-white")%></td>

            </tr>
          <% end %>

        </tbody>
      </table>
      <%= will_paginate @categories%>

    </div>
  </div>

</div>

<%= render 'add_category'%>
<%= render 'edit_category'%>
